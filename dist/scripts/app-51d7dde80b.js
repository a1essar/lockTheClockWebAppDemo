/******/!function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}// webpackBootstrap
/******/
var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var i=s(1),r=s(2),a=s(3),o=s(4),c=s(5),n=s(6),l=s(7),u=s(8);angular.module("lockTheClockWebApp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngRoute","720kb.socialshare","ngStorage"]).constant("moment",moment).config(i.config).config(r.routerConfig).run(a.runBlock).controller("MainController",o.MainController).controller("SprintController",c.SprintController).controller("ScoreController",n.ScoreController).directive("gameTimer",l.gameTimerDirective).directive("ngFastClick",u.ngFastClickDirective).value("appData",{}),function(t){var e=/iphone|ipad/i.test(navigator.userAgent);t.fn.nodoubletapzoom=function(){e&&t(this).bind("touchstart",function(e){var s=e.timeStamp,i=t(this).data("lastTouch")||s,r=s-i,a=e.originalEvent.touches.length;t(this).data("lastTouch",s),!r||r>500||a>1||(e.preventDefault(),t(this).trigger("click").trigger("click"))})}}(jQuery),$("body").nodoubletapzoom()},function(t,e){"use strict";function s(t){"ngInject";t.debugEnabled(!0)}s.$inject=["$logProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.config=s},function(t,e){"use strict";function s(t,e){"ngInject";t.html5Mode({enabled:!1,requireBase:!1}),e.when("/",{templateUrl:"app/sprint/sprint.html",controller:"SprintController",controllerAs:"sprint"}).when("/score",{templateUrl:"app/score/score.html",controller:"ScoreController",controllerAs:"score"}).otherwise({redirectTo:"/"})}s.$inject=["$locationProvider","$routeProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.routerConfig=s},function(t,e){"use strict";function s(t){"ngInject";t.debug("runBlock end")}s.$inject=["$log"],Object.defineProperty(e,"__esModule",{value:!0}),e.runBlock=s},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function r(){"ngInject";s(this,r)};e.MainController=i},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),r=void 0,a=void 0,o=function(){function t(e,i,o,c){"ngInject";s(this,t),r=i,a=c,a["best-score"]||(a["best-score"]="00:00"),this.result=o.result={score:"00:00"},this.game=e.game={checkState:"",target:"01:00",bestScore:a["best-score"]},this.timers=e.timers={stopwatch:2,score:2},this.states={start:1,stop:2,reset:0,restart:3},this.started=!1,this.stopped=!1,this.currentTime=0,this.times=[{value:1,complete:!1},{value:2,complete:!1},{value:3,complete:!1},{value:4,complete:!1},{value:5,complete:!1}]}return t.$inject=["$scope","$location","$rootScope","$localStorage"],i(t,[{key:"restart",value:function(){this.timers.stopwatch=this.states.restart,this.timers.score=this.states.restart,this.setState(""),this.started=!1,this.stopped=!1,this.currentTime=0,this.times.forEach(function(t){t.complete=!1})}},{key:"push",value:function(){return this.started?this.stopped?(this.timers.stopwatch=this.states.reset,this.stopped=!1,void this.setState("")):(this.timers.stopwatch=this.states.stop,this.stopped=!0,this.checkScore(),!1):(this.timers.stopwatch=this.states.start,this.timers.score=this.states.start,this.started=!0,!1)}},{key:"checkScore",value:function(){var t=angular.element(".stopwatch .game-timer").text();if(t===this.game.target){if(this.times[this.currentTime].complete=!0,this.setState("success"),this.currentTime++,angular.element("#success-sound")[0].currentTime=0,angular.element("#success-sound")[0].play(),this.currentTime===this.times.length)return this.finish(),!0}else this.setState("fail")}},{key:"finish",value:function(){this.timers.score=this.states.stop,this.result.score=angular.element(".score .game-timer").text();var t=a["best-score"];(this.result.score<t||"00:00"==t)&&(a["best-score"]=this.result.score,this.game.bestScore=this.result.score),r.path("/score")}},{key:"setState",value:function(t){this.game.checkState=t}}]),t}();e.SprintController=o},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function r(){"ngInject";s(this,r)};e.ScoreController=i},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){"ngInject";function s(s,r,a){function o(){r.html(e().hour(0).minute(0).second(0).millisecond(p).format(h)),p+=m}function c(){return angular.isDefined(u)?!1:void(u=t(o,m))}function n(){angular.isDefined(u)&&(t.cancel(u),u=void 0,r.html()===i.template&&l())}function l(){p=parseInt(a.initialMs,10)||0,o()}var u,p=parseInt(a.initialMs,10)||0,h=a.format||"ss:SS",m=10,d={start:1,stop:2,reset:0,restart:3};c(),s.$watch("gameTimer.state",function(t,e){switch(t){case d.start:c();break;case d.stop:n();break;case d.reset:l(),s.gameTimer.state=1===e?2:1;break;case d.restart:l(),s.gameTimer.state=2}}),r.on("$destroy",function(){t.cancel(u)})}var i={restrict:"AE",scope:{state:"="},template:"&nbsp;",link:s,controller:r,controllerAs:"gameTimer",bindToController:!0};return i}i.$inject=["$interval","moment"],Object.defineProperty(e,"__esModule",{value:!0}),e.gameTimerDirective=i;var r=function a(){"ngInject";s(this,a)}},function(t,e){"use strict";function s(){"ngInject";function t(t,e,s){var i="ontouchstart"in window||window.navigator.msPointerEnabled?"touchstart":"mousedown";e.bind(i,function(e){e.preventDefault(),e.stopPropagation(),t.$apply(s.ngFastClick)})}var e={restrict:"A",link:t};return e}Object.defineProperty(e,"__esModule",{value:!0}),e.ngFastClickDirective=s}]),angular.module("lockTheClockWebApp").run(["$templateCache",function(t){t.put("app/score/score.html",'<div class="stage results"><div class="container"><div class="logo"><img src="./assets/images/logo.png"><p>#LOCKTHECLOCK</p></div><div class="results__score">SCORE: {{$root.result.score}}</div><div class="action results__action"><a class="pushbutton" ng-href="#/sprint"></a></div><div class="results__message">CHALLENGE</div><div class="results__shares"><a class="facebook-icon" socialshare="" socialshare-provider="facebook" socialshare-type="feed" socialshare-display="popup" socialshare-via="1660751244192488" socialshare-redirect-uri="http://locktheclockgame.com" socialshare-url="http://locktheclockgame.com" socialshare-text="can you beat my time: {{$root.result.score}}" socialshare-caption="Lock The Clock" socialshare-description=""></a> <a class="gp-icon" socialshare="" socialshare-provider="google+" socialshare-url="http://locktheclockgame.com" socialshare-text="can you beat my time: {{$root.result.score}}" socialshare-caption="Lock The Clock" socialshare-description=""></a> <a class="twitter-icon" socialshare="" socialshare-provider="twitter" socialshare-url="http://locktheclockgame.com" socialshare-text="can you beat my time: {{$root.result.score}}" socialshare-caption="Lock The Clock" socialshare-description=""></a></div></div></div><div class="bg"></div>'),t.put("app/main/main.html",""),t.put("app/sprint/sprint.html",'<div class="stage sprint" ng-class="game.checkState"><div class="container"><div class="logo"><img src="./assets/images/logo.png"><p>#LOCKTHECLOCK</p></div><div class="best-time">BEST TIME {{game.bestScore}}</div><div class="score"><div class="game-timer" game-timer="" state="timers.score" data-initial-ms="0" data-format="<i>mm</i>:<i>ss</i>"></div></div><div class="message success" ng-show="game.checkState == \'success\'">GREAT SHOT</div><div class="message fail" ng-show="game.checkState == \'fail\'">TRY AGAIN</div><div class="sprint__times"><span class="sprint__time" ng-repeat="time in sprint.times" ng-class="{complete: time.complete}">{{time.value}}</span></div><div class="stopwatch sprtint__stopwatch"><div class="game-timer" game-timer="" state="timers.stopwatch" data-initial-ms="0" data-format="<i>ss</i>:<i>SS</i>"></div></div><div class="action sprtint__action"><div class="pushbutton" ng-click="" ng-fast-click="sprint.push($event)"></div><div class="restart" ng-click="sprint.restart()"></div></div><div class="target sprtint__target">target: 1:00</div><div class="stores sprtint__stores"><a href="#" target="_blank" class="appstore-icon"></a> <a href="https://play.google.com/store/apps/details?id=com.cage.rumble&hl=en" target="_blank" class="googleplay-icon"></a></div></div></div><div class="bg"></div>'),t.put("app/components/game-timer/game-timer.html","")}]);
//# sourceMappingURL=../maps/scripts/app-51d7dde80b.js.map
